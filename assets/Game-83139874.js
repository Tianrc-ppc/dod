import{i as Ve,e as $e,t as He,f as _,g as w,h as D,j as E,k as c,S as Se,E as je,W as De,I as Pe,l as P,N as Qe,m as We,p as ue,q as U,r as Le,v as Xe,x as Ke,s as z,o as x,c as N,b as R,_ as ae,a as h,w as b,d as O,u as i,F as re,y as qe,z as se,A as et,B as tt,C as at,D as le,G as ie,H,J as ge,K as W}from"./index-255b61d3.js";import{c as Q,p as rt,N as ve}from"./config-2cfc50a9.js";import{p as ot,a as nt,b as st,c as lt}from"./platform-e-69e1675c.js";import{f as X,p as it,N as Y,a as F,u as fe,w as L,r as ct,c as dt,b as pt,d as ut,e as mt,g as ze,h as ht,i as gt}from"./reset-00387df3.js";import{b as vt}from"./play-6a5fd61e.js";function ft(){const e=Ve($e,null);return e===null&&He("use-dialog","No outer <n-dialog-provider /> founded."),e}const At=_([w("progress",{display:"inline-block"},[w("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),D("line",`
 width: 100%;
 display: block;
 `,[w("progress-content",`
 display: flex;
 align-items: center;
 `,[w("progress-graph",{flex:1})]),w("progress-custom-content",{marginLeft:"14px"}),w("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[D("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),D("circle, dashboard",{width:"120px"},[w("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),w("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),w("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),D("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[w("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),w("progress-content",{position:"relative"}),w("progress-graph",{position:"relative"},[w("progress-graph-circle",[_("svg",{verticalAlign:"bottom"}),w("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[D("empty",{opacity:0})]),w("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),w("progress-graph-line",[D("indicator-inside",[w("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[w("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),w("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),D("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[w("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),w("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),w("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[w("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[D("processing",[_("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),_("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),bt={success:c(Se,null),error:c(je,null),warning:c(De,null),info:c(Pe,null)},wt=E({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const r=P(()=>X(e.height)),n=P(()=>e.railBorderRadius!==void 0?X(e.railBorderRadius):e.height!==void 0?X(e.height,{c:.5}):""),o=P(()=>e.fillBorderRadius!==void 0?X(e.fillBorderRadius):e.railBorderRadius!==void 0?X(e.railBorderRadius):e.height!==void 0?X(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:a,railColor:s,railStyle:m,percentage:p,unit:v,indicatorTextColor:y,status:f,showIndicator:C,fillColor:u,processing:B,clsPrefix:A}=e;return c("div",{class:`${A}-progress-content`,role:"none"},c("div",{class:`${A}-progress-graph`,"aria-hidden":!0},c("div",{class:[`${A}-progress-graph-line`,{[`${A}-progress-graph-line--indicator-${a}`]:!0}]},c("div",{class:`${A}-progress-graph-line-rail`,style:[{backgroundColor:s,height:r.value,borderRadius:n.value},m]},c("div",{class:[`${A}-progress-graph-line-fill`,B&&`${A}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:u,height:r.value,lineHeight:r.value,borderRadius:o.value}},a==="inside"?c("div",{class:`${A}-progress-graph-line-indicator`,style:{color:y}},t.default?t.default():`${p}${v}`):null)))),C&&a==="outside"?c("div",null,t.default?c("div",{class:`${A}-progress-custom-content`,style:{color:y},role:"none"},t.default()):f==="default"?c("div",{role:"none",class:`${A}-progress-icon ${A}-progress-icon--as-text`,style:{color:y}},p,v):c("div",{class:`${A}-progress-icon`,"aria-hidden":!0},c(Qe,{clsPrefix:A},{default:()=>bt[f]}))):null)}}}),yt={success:c(Se,null),error:c(je,null),warning:c(De,null),info:c(Pe,null)},It=E({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function r(n,o,a){const{gapDegree:s,viewBoxWidth:m,strokeWidth:p}=e,v=50,y=0,f=v,C=0,u=2*v,B=50+p/2,A=`M ${B},${B} m ${y},${f}
      a ${v},${v} 0 1 1 ${C},${-u}
      a ${v},${v} 0 1 1 ${-C},${u}`,S=Math.PI*2*v,j={stroke:a,strokeDasharray:`${n/100*(S-s)}px ${m*8}px`,strokeDashoffset:`-${s/2}px`,transformOrigin:o?"center":void 0,transform:o?`rotate(${o}deg)`:void 0};return{pathString:A,pathStyle:j}}return()=>{const{fillColor:n,railColor:o,strokeWidth:a,offsetDegree:s,status:m,percentage:p,showIndicator:v,indicatorTextColor:y,unit:f,gapOffsetDegree:C,clsPrefix:u}=e,{pathString:B,pathStyle:A}=r(100,0,o),{pathString:S,pathStyle:j}=r(p,s,n),G=100+a;return c("div",{class:`${u}-progress-content`,role:"none"},c("div",{class:`${u}-progress-graph`,"aria-hidden":!0},c("div",{class:`${u}-progress-graph-circle`,style:{transform:C?`rotate(${C}deg)`:void 0}},c("svg",{viewBox:`0 0 ${G} ${G}`},c("g",null,c("path",{class:`${u}-progress-graph-circle-rail`,d:B,"stroke-width":a,"stroke-linecap":"round",fill:"none",style:A})),c("g",null,c("path",{class:[`${u}-progress-graph-circle-fill`,p===0&&`${u}-progress-graph-circle-fill--empty`],d:S,"stroke-width":a,"stroke-linecap":"round",fill:"none",style:j}))))),v?c("div",null,t.default?c("div",{class:`${u}-progress-custom-content`,role:"none"},t.default()):m!=="default"?c("div",{class:`${u}-progress-icon`,"aria-hidden":!0},c(Qe,{clsPrefix:u},{default:()=>yt[m]})):c("div",{class:`${u}-progress-text`,style:{color:y},role:"none"},c("span",{class:`${u}-progress-text__percentage`},p),c("span",{class:`${u}-progress-text__unit`},f))):null)}}});function Be(e,t,r=100){return`m ${r/2} ${r/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const Ct=E({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const r=P(()=>e.percentage.map((o,a)=>`${Math.PI*o/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*a)-e.circleGap*a)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:n,strokeWidth:o,circleGap:a,showIndicator:s,fillColor:m,railColor:p,railStyle:v,percentage:y,clsPrefix:f}=e;return c("div",{class:`${f}-progress-content`,role:"none"},c("div",{class:`${f}-progress-graph`,"aria-hidden":!0},c("div",{class:`${f}-progress-graph-circle`},c("svg",{viewBox:`0 0 ${n} ${n}`},y.map((C,u)=>c("g",{key:u},c("path",{class:`${f}-progress-graph-circle-rail`,d:Be(n/2-o/2*(1+2*u)-a*u,o,n),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:p[u]},v[u]]}),c("path",{class:[`${f}-progress-graph-circle-fill`,C===0&&`${f}-progress-graph-circle-fill--empty`],d:Be(n/2-o/2*(1+2*u)-a*u,o,n),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:r.value[u],strokeDashoffset:0,stroke:m[u]}})))))),s&&t.default?c("div",null,c("div",{class:`${f}-progress-text`},t.default())):null)}}}),kt=Object.assign(Object.assign({},ue.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),xt=E({name:"Progress",props:kt,setup(e){const t=P(()=>e.indicatorPlacement||e.indicatorPosition),r=P(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:n,inlineThemeDisabled:o}=We(e),a=ue("Progress","-progress",At,Xe,e,n),s=P(()=>{const{status:p}=e,{common:{cubicBezierEaseInOut:v},self:{fontSize:y,fontSizeCircle:f,railColor:C,railHeight:u,iconSizeCircle:B,iconSizeLine:A,textColorCircle:S,textColorLineInner:j,textColorLineOuter:G,lineBgProcessing:T,fontWeightCircle:V,[U("iconColor",p)]:$,[U("fillColor",p)]:J}}=a.value;return{"--n-bezier":v,"--n-fill-color":J,"--n-font-size":y,"--n-font-size-circle":f,"--n-font-weight-circle":V,"--n-icon-color":$,"--n-icon-size-circle":B,"--n-icon-size-line":A,"--n-line-bg-processing":T,"--n-rail-color":C,"--n-rail-height":u,"--n-text-color-circle":S,"--n-text-color-line-inner":j,"--n-text-color-line-outer":G}}),m=o?Le("progress",P(()=>e.status[0]),s,e):void 0;return{mergedClsPrefix:n,mergedIndicatorPlacement:t,gapDeg:r,cssVars:o?void 0:s,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:r,showIndicator:n,status:o,railColor:a,railStyle:s,color:m,percentage:p,viewBoxWidth:v,strokeWidth:y,mergedIndicatorPlacement:f,unit:C,borderRadius:u,fillBorderRadius:B,height:A,processing:S,circleGap:j,mergedClsPrefix:G,gapDeg:T,gapOffsetDegree:V,themeClass:$,$slots:J,onRender:te}=this;return te==null||te(),c("div",{class:[$,`${G}-progress`,`${G}-progress--${e}`,`${G}-progress--${o}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":p,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?c(It,{clsPrefix:G,status:o,showIndicator:n,indicatorTextColor:r,railColor:a,fillColor:m,railStyle:s,offsetDegree:this.offsetDegree,percentage:p,viewBoxWidth:v,strokeWidth:y,gapDegree:T===void 0?e==="dashboard"?75:0:T,gapOffsetDegree:V,unit:C},J):e==="line"?c(wt,{clsPrefix:G,status:o,showIndicator:n,indicatorTextColor:r,railColor:a,fillColor:m,railStyle:s,percentage:p,processing:S,indicatorPlacement:f,unit:C,fillBorderRadius:B,railBorderRadius:u,height:A},J):e==="multiple-circle"?c(Ct,{clsPrefix:G,strokeWidth:y,railColor:a,fillColor:m,railStyle:s,viewBoxWidth:v,percentage:p,showIndicator:n,circleGap:j},J):null)}}),Rt=w("h",`
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 margin: var(--n-margin);
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[_("&:first-child",{marginTop:0}),D("prefix-bar",{position:"relative",paddingLeft:"var(--n-prefix-width)"},[D("align-text",{paddingLeft:0},[_("&::before",{left:"calc(-1 * var(--n-prefix-width))"})]),_("&::before",`
 content: "";
 width: var(--n-bar-width);
 border-radius: calc(var(--n-bar-width) / 2);
 transition: background-color .3s var(--n-bezier);
 left: 0;
 top: 0;
 bottom: 0;
 position: absolute;
 `),_("&::before",{backgroundColor:"var(--n-bar-color)"})])]),zt=Object.assign(Object.assign({},ue.props),{type:{type:String,default:"default"},prefix:String,alignText:Boolean}),ee=e=>E({name:`H${e}`,props:zt,setup(t){const{mergedClsPrefixRef:r,inlineThemeDisabled:n}=We(t),o=ue("Typography","-h",Rt,Ke,t,r),a=P(()=>{const{type:m}=t,{common:{cubicBezierEaseInOut:p},self:{headerFontWeight:v,headerTextColor:y,[U("headerPrefixWidth",e)]:f,[U("headerFontSize",e)]:C,[U("headerMargin",e)]:u,[U("headerBarWidth",e)]:B,[U("headerBarColor",m)]:A}}=o.value;return{"--n-bezier":p,"--n-font-size":C,"--n-margin":u,"--n-bar-color":A,"--n-bar-width":B,"--n-font-weight":v,"--n-text-color":y,"--n-prefix-width":f}}),s=n?Le(`h${e}`,P(()=>t.type[0]),a,t):void 0;return{mergedClsPrefix:r,cssVars:n?void 0:a,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var t;const{prefix:r,alignText:n,mergedClsPrefix:o,cssVars:a,$slots:s}=this;return(t=this.onRender)===null||t===void 0||t.call(this),c(`h${e}`,{class:[`${o}-h`,`${o}-h${e}`,this.themeClass,{[`${o}-h--prefix-bar`]:r,[`${o}-h--align-text`]:n}],style:a},s)}});ee("1");ee("2");ee("3");const me=ee("4");ee("5");ee("6");const ce=Q(),Me=z();class oe{constructor(t,r){this.y=t instanceof Array?t[1]:0,this.x=t instanceof Array?t[0]:0,this.height=r?r.h:0,this.width=r?r.w:0,this.stroke=ce.stroke.colors[ce.stroke.current++],ce.stroke.current%=ce.stroke.colors.length}specifyPositionY(t){const r=Me.height-this.height;t==="m"&&(this.y=r/2),t==="d"&&(this.y=r),t==="u"&&(this.y=0)}specifyPositionX(t){const r=Me.width-this.width;t==="m"&&(this.x=r/2),t==="r"&&(this.x=r),t==="l"&&(this.x=0)}drawCanvas(t){t(this.stroke,this.x,this.y,this.width,this.height)}}const Bt=""+new URL("bomber-a-4b6f0068.png",import.meta.url).href,Mt=""+new URL("bomber-b-c5cbd090.png",import.meta.url).href,Zt=""+new URL("spring-a-46d83462.png",import.meta.url).href,Gt=""+new URL("spring-b-b27f2cdd.png",import.meta.url).href,Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAAKCAYAAADxeBEhAAAACXBIWXMAACTpAAAk6QFQJOf4AAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDAgNzkuMTcxYzI3ZiwgMjAyMi8wOC8xNi0xODowMjo0MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMy0xMS0xNFQxNTo1NTo0NyswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0xMS0xNFQxNTo1NTo0NyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjMtMTEtMTRUMTU6NTU6NDcrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmZjNzBkZjJkLWEyZjItNzY0NC1iMDJhLWNiOTE1ODE4YzFjZCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpmYzcwZGYyZC1hMmYyLTc2NDQtYjAyYS1jYjkxNTgxOGMxY2QiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmYzcwZGYyZC1hMmYyLTc2NDQtYjAyYS1jYjkxNTgxOGMxY2QiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmZjNzBkZjJkLWEyZjItNzY0NC1iMDJhLWNiOTE1ODE4YzFjZCIgc3RFdnQ6d2hlbj0iMjAyMy0xMS0xNFQxNTo1NTo0NyswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoCCPz8AAAEKSURBVFjD7ZdBCoJAFIZHLbBVN2hn0ErahHQBadNFggiE7hHuOkBHqGWbArfdoAu0VwjtH0uZZKJwN/F/8PUmkxbyfp7PKopCEEL0dORHEATCtu0JjCzLCmEfZ4H6pqRZCTGBahCoVTXPc1lTeMQ5hockSZ4BybLMR8Nvoa8Lhi4ghJgeFI0ugjFDHcIlbtuXAUnTdIHG95pB0AWkgkEhJgZD/d5UuT6AUR0QpCZE6bVpfAaFmBSMH+/vwlG9g+CiI3u9zR8S8qc4dUAwQc4oc+jyuRAi7vCqTpAYjnH0+GwIETesDht1gpxQVnANp693sK/vcNw/iOl7SKOHc3iBcmDsyt+5cxDymQdwtKAQLmonYQAAAABJRU5ErkJggg==",Nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAAB4CAYAAAC9x4bVAAAACXBIWXMAACTpAAAk6QFQJOf4AAAJ4WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDAgNzkuMTcxYzI3ZiwgMjAyMi8wOC8xNi0xODowMjo0MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyNC4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjMtMTEtMTRUMTU6MzA6MzQrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjMtMTEtMTRUMTU6NTE6MjgrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIzLTExLTE0VDE1OjUxOjI4KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNTg2YmYxNC0wNmIxLWZiNDctOTM0My05MmU3NWVlZDU0ZjgiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjZWQ0M2QzMy02MmY2LWU2NDktYWIzOS02ZWNmZDYyODBkZjYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ZGE3MGNmMy1jMGYwLTcyNGEtODBkZC1kZDFjZmNmOTEyZDkiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjVkYTcwY2YzLWMwZjAtNzI0YS04MGRkLWRkMWNmY2Y5MTJkOSIgc3RFdnQ6d2hlbj0iMjAyMy0xMS0xNFQxNTozMDozNCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphMmZmODM3MC01OGM2LTk2NGMtODNmNS0zYzg4NzUyZWRiNGIiIHN0RXZ0OndoZW49IjIwMjMtMTEtMTRUMTU6NDU6MzkrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNC4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTk4Yzc3MGMtNTU0OS00ZTRmLWIxZTEtOTgzM2Y5YmM0MGIwIiBzdEV2dDp3aGVuPSIyMDIzLTExLTE0VDE1OjUxOjI4KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM1ODZiZjE0LTA2YjEtZmI0Ny05MzQzLTkyZTc1ZWVkNTRmOCIgc3RFdnQ6d2hlbj0iMjAyMy0xMS0xNFQxNTo1MToyOCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphOThjNzcwYy01NTQ5LTRlNGYtYjFlMS05ODMzZjliYzQwYjAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NWRhNzBjZjMtYzBmMC03MjRhLTgwZGQtZGQxY2ZjZjkxMmQ5IiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NWRhNzBjZjMtYzBmMC03MjRhLTgwZGQtZGQxY2ZjZjkxMmQ5Ii8+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPnhtcC5kaWQ6MjAwMDZEMkNFREZGMTFFMTkyMEI4MzkyMzAxODAzNTE8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5bnGm+AAABZ0lEQVR42u3VQREAAAgDINc/9Ezh+YESpO0AwLcICQAhAYCQABASAAgJACEBgJAAEBIACAkAIQGAkAAQEgAICQAhAYCQABASAAgJACEBgJAAEBIACAkAIQGAkAAQEgAICQAhAYCQABASAAgJACEBgJAAEBIACAkAhASAkABASAAICQCEBICQAEBIAAgJAIQEgJAAQEgACAkAhASAkABASAAICQCEBICQAEBIAAgJAIQEgJAAQEgACAkAhASAkABASAAICQCEBICQAEBIAAhJSAAICQCEBICQAEBIAAgJAIQEgJAAQEgACAkAhASAkABASAAICQCEBICQAEBIAAgJAIQEgJAAQEgACAkAhASAkABASAAICQCEBICQAEBIAAgJAIQEgJAAQEgAICQAhAQAQgJASAAgJACEBABCAkBIACAkAIQEAEICQEgAICQAhAQAQgJASAAgJACEBABCAkBIACAkAIQEAFcW0nxnIM4vUugAAAAASUVORK5CYII=",Yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAAB4CAYAAAC9x4bVAAAACXBIWXMAACTpAAAk6QFQJOf4AAAJ4WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDAgNzkuMTcxYzI3ZiwgMjAyMi8wOC8xNi0xODowMjo0MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyNC4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjMtMTEtMTRUMTU6MzA6MzQrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjMtMTEtMTRUMTU6NTE6MjgrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIzLTExLTE0VDE1OjUxOjI4KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNTg2YmYxNC0wNmIxLWZiNDctOTM0My05MmU3NWVlZDU0ZjgiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjZWQ0M2QzMy02MmY2LWU2NDktYWIzOS02ZWNmZDYyODBkZjYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ZGE3MGNmMy1jMGYwLTcyNGEtODBkZC1kZDFjZmNmOTEyZDkiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjVkYTcwY2YzLWMwZjAtNzI0YS04MGRkLWRkMWNmY2Y5MTJkOSIgc3RFdnQ6d2hlbj0iMjAyMy0xMS0xNFQxNTozMDozNCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphMmZmODM3MC01OGM2LTk2NGMtODNmNS0zYzg4NzUyZWRiNGIiIHN0RXZ0OndoZW49IjIwMjMtMTEtMTRUMTU6NDU6MzkrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNC4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTk4Yzc3MGMtNTU0OS00ZTRmLWIxZTEtOTgzM2Y5YmM0MGIwIiBzdEV2dDp3aGVuPSIyMDIzLTExLTE0VDE1OjUxOjI4KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM1ODZiZjE0LTA2YjEtZmI0Ny05MzQzLTkyZTc1ZWVkNTRmOCIgc3RFdnQ6d2hlbj0iMjAyMy0xMS0xNFQxNTo1MToyOCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphOThjNzcwYy01NTQ5LTRlNGYtYjFlMS05ODMzZjliYzQwYjAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NWRhNzBjZjMtYzBmMC03MjRhLTgwZGQtZGQxY2ZjZjkxMmQ5IiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NWRhNzBjZjMtYzBmMC03MjRhLTgwZGQtZGQxY2ZjZjkxMmQ5Ii8+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPnhtcC5kaWQ6MjAwMDZEMkNFREZGMTFFMTkyMEI4MzkyMzAxODAzNTE8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5bnGm+AAABZ0lEQVR42u3VQREAAAgDINc/9Ezh+YESpO0AwLcICQAhAYCQABASAAgJACEBgJAAEBIACAkAIQGAkAAQEgAICQAhAYCQABASAAgJACEBgJAAEBIACAkAIQGAkAAQEgAICQAhAYCQABASAAgJACEBgJAAEBIACAkAhASAkABASAAICQCEBICQAEBIAAgJAIQEgJAAQEgACAkAhASAkABASAAICQCEBICQAEBIAAgJAIQEgJAAQEgACAkAhASAkABASAAICQCEBICQAEBIAAhJSAAICQCEBICQAEBIAAgJAIQEgJAAQEgACAkAhASAkABASAAICQCEBICQAEBIAAgJAIQEgJAAQEgACAkAhASAkABASAAICQCEBICQAEBIAAgJAIQEgJAAQEgAICQAhAQAQgJASAAgJACEBABCAkBIACAkAIQEAEICQEgAICQAhAQAQgJASAAgJACEBABCAkBIACAkAIQEAFcW0nxnIM4vUugAAAAASUVORK5CYII=",St=""+new URL("platform-g-2b80b0e3.png",import.meta.url).href,jt=""+new URL("player-c-697273ad.png",import.meta.url).href,Dt=""+new URL("player-d-83c40ee9.png",import.meta.url).href,Ze=Q(),Ae=z(),de={groundImage:null,springImageA:null,springImageB:null,bomberImageA:null,bomberImageB:null,playerImageA:null,playerImageB:null,playerImageC:null,playerImageD:null,platformImageA:null,platformImageB:null,platformImageC:null,platformImageD:null,platformImageE:null,platformImageF:null,platformImageG:null},M=(e,t,r)=>{de[r]&&e(!0);const n=new Image;e&&t&&r&&(n.src=t),e&&t&&r&&(n.alt=r),n.onload=()=>(de[r]=n)&&e(!0),n.onerror=()=>(de[r]=null)||e(!1)},Pt=()=>new Promise(e=>M(e,Et,"groundImage")),Qt=()=>new Promise(e=>M(e,Zt,"springImageA")),Wt=()=>new Promise(e=>M(e,Gt,"springImageB")),Lt=()=>new Promise(e=>M(e,Bt,"bomberImageA")),_t=()=>new Promise(e=>M(e,Mt,"bomberImageB")),Tt=()=>new Promise(e=>M(e,rt,"playerImageA")),Jt=()=>new Promise(e=>M(e,it,"playerImageB")),Ut=()=>new Promise(e=>M(e,jt,"playerImageC")),Ot=()=>new Promise(e=>M(e,Dt,"playerImageD")),Ft=()=>new Promise(e=>M(e,ot,"platformImageA")),Vt=()=>new Promise(e=>M(e,nt,"platformImageB")),$t=()=>new Promise(e=>M(e,st,"platformImageC")),Ht=()=>new Promise(e=>M(e,Nt,"platformImageD")),Xt=()=>new Promise(e=>M(e,lt,"platformImageE")),Kt=()=>new Promise(e=>M(e,Yt,"platformImageF")),qt=()=>new Promise(e=>M(e,St,"platformImageG")),Z=(e,t,r,n,o,a)=>{Ae.frame.getContext("2d").strokeStyle=t;const s=de[e],m=s!==null||Ze.stroke.enabled,p=s===null||Ze.stroke.enabled;m&&Ae.frame.getContext("2d").drawImage(s,r,n,o,a),p&&Ae.frame.getContext("2d").strokeRect(r,n,o,a)},ea=(e,t,r,n,o)=>Z("groundImage",e,t,r,n,o),ta=(e,t,r,n,o)=>Z("springImageA",e,t,r,n,o),aa=(e,t,r,n,o)=>Z("springImageB",e,t,r,n,o),ra=(e,t,r,n,o)=>Z("bomberImageA",e,t,r,n,o),oa=(e,t,r,n,o)=>Z("bomberImageB",e,t,r,n,o),na=(e,t,r,n,o)=>Z("playerImageA",e,t,r,n,o),sa=(e,t,r,n,o)=>Z("playerImageB",e,t,r,n,o),la=(e,t,r,n,o)=>Z("playerImageC",e,t,r,n,o),ia=(e,t,r,n,o)=>Z("playerImageD",e,t,r,n,o),ca=(e,t,r,n,o)=>Z("platformImageA",e,t,r,n,o),da=(e,t,r,n,o)=>Z("platformImageB",e,t,r,n,o),pa=(e,t,r,n,o)=>Z("platformImageC",e,t,r,n,o),ua=(e,t,r,n,o)=>Z("platformImageD",e,t,r,n,o),ma=(e,t,r,n,o)=>Z("platformImageE",e,t,r,n,o),ha=(e,t,r,n,o)=>Z("platformImageF",e,t,r,n,o),ga=(e,t,r,n,o)=>Z("platformImageG",e,t,r,n,o),va=z();class fa extends oe{constructor(t){super(null,va.variable.dimension.bomber),this.y=t.y-t.height-this.height/3,this.x=t.x+(t.width-this.width)/2,this.activated=!1}allowCollision(){return!this.activated}activateBomber(){this.activated=!0}drawCanvas(){!this.activated&&super.drawCanvas(ra),this.activated&&super.drawCanvas(oa)}}const Aa=z();class ba extends oe{constructor(t){super(null,Aa.variable.dimension.spring),this.y=t.y-t.height-this.height/3,this.x=t.x+(t.width-this.width)/2,this.activated=!1}allowCollision(){return!this.activated}activateSpring(){this.activated=!0}drawCanvas(){!this.activated&&super.drawCanvas(ta),this.activated&&super.drawCanvas(aa)}}const be=z();class ne extends oe{constructor(t,r,n){super(null,n);const o={length:be.platforms.length,offset:this.width};this.y=be.height*o.length/r,this.x=(be.width-o.offset)*t}}const wa=Q(),ya=z();class _e extends ne{constructor(){super(Math.random(),wa.platforms,ya.variable.dimension.broken),this.appear=!1}allowCollision(){return!1}drawCanvas(){this.appear&&super.drawCanvas(ga)}}const Ia=Q(),Ca=z();class pe extends ne{constructor(){super(Math.random(),Ia.platforms,Ca.variable.dimension.platform),this.activated=!1}allowCollision(){return!this.activated}activatePlatform(){this.activated=!0}drawCanvas(){!this.activated&&super.drawCanvas(pa),this.activated&&super.drawCanvas(ua)}}const ka=Q(),Ge=z();class Ie extends ne{constructor(){super(Math.random(),ka.platforms,Ge.variable.dimension.platform),this.speed=1*Ge.variable.horizontal.platform}allowCollision(){return!0}drawCanvas(){super.drawCanvas(da)}}const xa=Q(),Ee=z();class Ce extends ne{constructor(){super(Math.random(),xa.platforms,Ee.variable.dimension.platform),this.speed=0*Ee.variable.horizontal.platform}allowCollision(){return!0}drawCanvas(){super.drawCanvas(ca)}}const Ra=Q(),za=z();class ye extends ne{constructor(){super(Math.random(),Ra.platforms,za.variable.dimension.platform),this.activated=!1}allowCollision(){return!this.activated}activatePlatform(){this.activated=!0}drawCanvas(){!this.activated&&super.drawCanvas(ma),this.activated&&super.drawCanvas(ha)}}const we=Q(),K=z();class Ba{constructor(){this.rules=Array.from(we.generator).reverse(),this.mapper={1:()=>new Ce,2:()=>new Ie,3:()=>new pe,4:()=>new ye,5:()=>new _e}}randomPlatform(t){const r=t.kinds&&t.kinds.length,n=t.kinds&&Math.random,o=t.kinds&&Math.floor;return t.kinds[o(n()*r)]}verifyPlatform(t){const r=a=>K.platforms[o(n(a))].platform instanceof pe,n=a=>a+K.platforms.length,o=a=>a%K.platforms.length;return K.platforms.length&&(r(t-1)||r(t+1))}generatePlatform(t,r,n){const o=this.rules.find(B=>B.limit<=K.capture.score),a=this.randomPlatform(o),s=this.verifyPlatform(t),m=s&&a===3||s&&a===5?1:a,p=(m===1||m===2)&&Math.random()<we.spring,v=(m===1||m===2)&&Math.random()<we.bomber,y=Math.random(),f=p&&v?p&&y<.5:p,C=p&&v?v&&y>.5:v,u=this.mapper[m]();r!=null&&(u.y=r),n!=null&&(u.x=n),K.platforms[t]={spring:f?new ba(u):null,bomber:C?new fa(u):null,broken:null,platform:u}}}const Ma=z();class Za extends oe{constructor(){super(null,Ma.variable.dimension.ground),this.specifyPositionX("m"),this.specifyPositionY("d"),this.removed=!1}allowCollision(){return!this.removed}drawCanvas(){!this.removed&&super.drawCanvas(ea)}}const q=z();class Ga extends oe{constructor(){super(null,q.variable.dimension.player),this.specifyPositionX("m"),this.specifyPositionY("d"),this.status={face:0,dead:!1},this.upper=q.variable.vertical.upper,this.lower=q.variable.vertical.lower,this.speed={x:0,y:-this.lower}}killPlayer(){this.status.dead=!0}jumpUpper(){this.speed.y=-this.upper}jumpLower(){this.speed.y=-this.lower}movePositionY(t){this.y+=t??this.speed.y}movePositionX(t){this.x+=t??this.speed.x}updateSpeedY(t){this.speed.y+=t??0}updateSpeedX(t){this.speed.x+=t??0}finalizeFacing(){const t=5*q.variable.vertical.gravity,r=-this.upper-t<=this.speed.y&&this.speed.y<=-this.upper,n=-this.lower-t<=this.speed.y&&this.speed.y<=-this.lower;q.capture.direction!==0&&(this.status.face=0),q.capture.direction!==1&&(this.status.face=1),this.status.face===0&&(r||n)&&(this.status.face=2),this.status.face===1&&(r||n)&&(this.status.face=3)}drawCanvas(){this.status.face===0&&super.drawCanvas(na),this.status.face===1&&super.drawCanvas(sa),this.status.face===2&&super.drawCanvas(la),this.status.face===3&&super.drawCanvas(ia)}}const k=z(),he=(e,t)=>{const r={a:e.y,b:e.y+e.height},n={a:e.x,b:e.x+e.width},o={a:t.y,b:t.y+t.height},a={a:t.x,b:t.x+t.width},s=Math.min(n.b,a.b)-Math.max(n.a,a.a),m=Math.min(r.b,o.b)-Math.max(r.a,o.a);return s>=0&&m>=0},Ea=e=>{const t=!k.player.status.dead&&k.player.speed.y>0,r=()=>k.ground&&he(k.player,k.ground);t&&(()=>k.ground&&k.ground.allowCollision())()&&r()&&e(k.ground)},Na=e=>{const t=!k.player.status.dead&&k.player.speed.y>0;k.platforms.filter(o=>t&&o.spring&&o.spring.allowCollision()).filter(o=>he(k.player,o.spring)).forEach(o=>e(o))},Ya=e=>{const t=!k.player.status.dead&&k.player.speed.y>0;k.platforms.filter(o=>t&&o.bomber&&o.bomber.allowCollision()).filter(o=>he(k.player,o.bomber)).forEach(o=>e(o))},Sa=e=>{const t=!k.player.status.dead&&k.player.speed.y>0;k.platforms.filter(o=>t&&o.platform&&o.platform.allowCollision()).filter(o=>he(k.player,o.platform)).forEach(o=>e(o))},ja=Q(),l=z(),Da=()=>{const e=(l.height-l.player.height)/2,t=l.capture.keyboard.movement+l.capture.face.movement,r=l.capture.mouse.movement+l.capture.hand.movement;t+r>0&&(l.capture.direction=1),t+r<0&&(l.capture.direction=0),l.player.updateSpeedX(null),l.player.updateSpeedY(l.variable.vertical.gravity),l.player.movePositionX(t+r),l.player.movePositionY(0),l.player.y<e&&l.player.speed.y<0||l.player.movePositionY()},Pa=()=>{const e=(s,m)=>l.player.x>s&&(l.player.x=m),t=(s,m)=>l.player.x<s&&(l.player.x=m),r=l.player.y+l.player.height>l.height;l.player&&e(l.width,-l.player.width),l.player&&t(-l.player.width,l.width);const n=l.platforms.filter(s=>s.platform instanceof Ce),o=l.platforms.filter(s=>s.platform instanceof Ie),a=l.platforms.map(s=>s.broken).filter(s=>s);n.map(s=>s.platform).forEach(s=>(s.x<0||s.x+s.width>l.width)&&(s.speed*=-1)),o.map(s=>s.platform).forEach(s=>(s.x<0||s.x+s.width>l.width)&&(s.speed*=-1)),n.forEach(s=>s.platform.x+=s.platform.speed),n.forEach(s=>s.spring&&(s.spring.x+=s.platform.speed)),n.forEach(s=>s.bomber&&(s.bomber.x+=s.platform.speed)),o.forEach(s=>s.platform.x+=s.platform.speed),o.forEach(s=>s.spring&&(s.spring.x+=s.platform.speed)),o.forEach(s=>s.bomber&&(s.bomber.x+=s.platform.speed)),a.forEach(s=>s.y+=l.variable.vertical.falling),l.ground.removed&&r&&l.player.killPlayer()},Qa=()=>{const e=(l.height-l.player.height)/2,t=l.player.y<e&&l.player.speed.y<0,r=t&&l.platforms.map(s=>s.spring).filter(s=>s),n=t&&l.platforms.map(s=>s.bomber).filter(s=>s),o=t&&l.platforms.map(s=>s.broken).filter(s=>s),a=t&&l.platforms.map(s=>s.platform).filter(s=>s);l.capture.score+=t,t&&r.forEach(s=>s.y-=l.player.speed.y),t&&n.forEach(s=>s.y-=l.player.speed.y),t&&o.forEach(s=>s.y-=l.player.speed.y),t&&a.forEach(s=>s.y-=l.player.speed.y),t&&(l.ground.y-=l.player.speed.y)},Wa=()=>{l.frame.getContext("2d").clearRect(0,0,l.width,l.height),l.player&&l.player.finalizeFacing(),l.player&&l.player.drawCanvas(),l.ground&&l.ground.drawCanvas();const e=l.platforms.map(o=>o.spring).filter(o=>o),t=l.platforms.map(o=>o.bomber).filter(o=>o),r=l.platforms.map(o=>o.broken).filter(o=>o),n=l.platforms.map(o=>o.platform).filter(o=>o);e.forEach(o=>o.drawCanvas()),t.forEach(o=>o.drawCanvas()),r.forEach(o=>o.drawCanvas()),n.forEach(o=>o.drawCanvas())},La=()=>{Ea(()=>l.player.jumpLower()),Na(e=>e.spring.activateSpring()||l.player.jumpUpper()),Ya(e=>e.bomber.activateBomber()||l.player.killPlayer()),Sa(e=>{const t=e.platform instanceof Ce,r=e.platform instanceof Ie,n=e.platform instanceof ye;(t||r||n)&&l.player.jumpLower(),e.platform instanceof pe&&e.platform.activatePlatform(),e.platform instanceof ye&&e.platform.activatePlatform(),e.platform instanceof pe&&(e.broken=new _e,e.broken.x=e.platform.x,e.broken.y=e.platform.y,e.broken.appear=!0)})},_a=()=>{const e=l.player.status.dead,t=e&&l.platforms.map(a=>a.spring).filter(a=>a),r=e&&l.platforms.map(a=>a.bomber).filter(a=>a),n=e&&l.platforms.map(a=>a.broken).filter(a=>a),o=e&&l.platforms.map(a=>a.platform).filter(a=>a);e&&t.forEach(a=>a.y+=l.variable.vertical.falling*1.5),e&&r.forEach(a=>a.y+=l.variable.vertical.falling*1.5),e&&n.forEach(a=>a.y+=l.variable.vertical.falling*1.5),e&&o.forEach(a=>a.y+=l.variable.vertical.falling*1.5),e&&(l.player.speed.y*=0),e&&(l.player.speed.x*=1),e&&(l.player.y+=l.variable.vertical.falling),e&&l.player.y>l.height&&(l.capture.stopped=1)&&l.logout(),l.ground.y>l.height&&(l.ground.removed=!0);for(let a=0;a<ja.platforms;++a)if(l.platforms[a].platform.y>l.height){const s=l.platforms[a].platform.y-l.height;l.platforms[a].spring=null,l.platforms[a].bomber=null,l.platforms[a].broken=null,l.platforms[a].platform=null,l.factory.generatePlatform(a,s)}},g=z(),Ne=(e,t,r)=>{const n=g.variable.horizontal.keyboard;r&&(e==="ArrowRight"||e==="6")&&(g.capture.keyboard.movement=0),r&&(e==="ArrowLeft"||e==="4")&&(g.capture.keyboard.movement=0),r&&e.toUpperCase()==="D"&&(g.capture.keyboard.movement=0),r&&e.toUpperCase()==="A"&&(g.capture.keyboard.movement=0),t&&(e==="ArrowRight"||e==="6")&&(g.capture.keyboard.movement=1*n),t&&(e==="ArrowLeft"||e==="4")&&(g.capture.keyboard.movement=-1*n),t&&e.toUpperCase()==="D"&&(g.capture.keyboard.movement=1*n),t&&e.toUpperCase()==="A"&&(g.capture.keyboard.movement=-1*n),t&&e===" "&&(g.capture.stopped=!g.capture.stopped),t&&e==="Enter"&&(g.capture.stopped=!g.capture.stopped)},Ta=e=>{const t=g.capture.face.location;if(g.capture.face.location=e,t!==null){const r=-g.variable.horizontal.face,n=(e-t)*r,o=-g.variable.horizontal.activate<=n,a=g.variable.horizontal.activate>=n;g.capture.face.movement=o&&a?0:n}},Ja=e=>{const t=g.capture.hand.location;if(g.capture.hand.location=e,t!==null){const r=-g.variable.horizontal.hand,n=(e-t)*r,o=-g.variable.horizontal.activate<=n,a=g.variable.horizontal.activate>=n;g.capture.hand.movement=o&&a?0:n}},Ye=e=>{const t=g.capture.mouse.location;if(g.capture.mouse.location=e,t!==null){const r=g.variable.horizontal.mouse,n=(e-t)*r,o=-g.variable.horizontal.activate<=n,a=g.variable.horizontal.activate>=n;g.capture.mouse.movement=o&&a?0:n}},Ua=""+new URL("pause-1b47fd4f.png",import.meta.url).href,Oa=""+new URL("stop-fa56b508.png",import.meta.url).href,Fa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Va=R("path",{d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42a.996.996 0 0 0-1.41 0l-6.59 6.59a.996.996 0 0 0 0 1.41l6.59 6.59a.996.996 0 1 0 1.41-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z",fill:"currentColor"},null,-1),$a=[Va],ke=E({name:"ArrowBackRound",render:function(t,r){return x(),N("svg",Fa,$a)}}),Ha={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Xa=R("path",{d:"M2 12c0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2S2 6.48 2 12zm10-2.79V11h3c.55 0 1 .45 1 1s-.45 1-1 1h-3v1.79c0 .45-.54.67-.85.35l-2.79-2.79c-.2-.2-.2-.51 0-.71l2.79-2.79a.5.5 0 0 1 .85.36z",fill:"currentColor"},null,-1),Ka=[Xa],qa=E({name:"ArrowCircleLeftRound",render:function(t,r){return x(),N("svg",Ha,Ka)}}),er={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},tr=R("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12s4.48 10 10 10s10-4.48 10-10zm-10 2.79V13H9c-.55 0-1-.45-1-1s.45-1 1-1h3V9.21c0-.45.54-.67.85-.35l2.79 2.79c.2.2.2.51 0 .71l-2.79 2.79a.5.5 0 0 1-.85-.36z",fill:"currentColor"},null,-1),ar=[tr],rr=E({name:"ArrowCircleRightRound",render:function(t,r){return x(),N("svg",er,ar)}}),or={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},nr=R("path",{d:"M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42c.39.39 1.02.39 1.41 0l6.59-6.59a.996.996 0 0 0 0-1.41l-6.58-6.6a.996.996 0 1 0-1.41 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z",fill:"currentColor"},null,-1),sr=[nr],xe=E({name:"ArrowForwardRound",render:function(t,r){return x(),N("svg",or,sr)}}),lr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ir=R("path",{d:"M10.25 13a1.25 1.25 0 1 1-2.5 0a1.25 1.25 0 0 1 2.5 0zM15 11.75a1.25 1.25 0 1 0 0 2.5a1.25 1.25 0 0 0 0-2.5zm7 .25c0 5.52-4.48 10-10 10S2 17.52 2 12S6.48 2 12 2s10 4.48 10 10zm-2 0c0-.78-.12-1.53-.33-2.24c-.7.15-1.42.24-2.17.24a10 10 0 0 1-7.76-3.69A10.016 10.016 0 0 1 4 11.86c.01.04 0 .09 0 .14c0 4.41 3.59 8 8 8s8-3.59 8-8z",fill:"currentColor"},null,-1),cr=[ir],dr=E({name:"FaceRound",render:function(t,r){return x(),N("svg",lr,cr)}}),pr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ur=R("path",{d:"M18.5 14.5c0 .28-.22.5-.5.5c-1.51 0-2.77 1.12-2.97 2.58c-.03.24-.25.42-.49.42c-.3 0-.54-.27-.5-.57a4.03 4.03 0 0 1 3.46-3.4V3.25a1.25 1.25 0 0 0-2.5 0v7.25c0 .28-.22.5-.5.5s-.5-.22-.5-.5V1.25a1.25 1.25 0 0 0-2.5 0v9.25c0 .28-.22.5-.5.5s-.5-.22-.5-.5V2.75a1.25 1.25 0 0 0-2.5 0v8.75c0 .28-.22.5-.5.5s-.5-.22-.5-.5V5.75a1.25 1.25 0 0 0-2.5 0v10c0 4.56 3.69 8.25 8.25 8.25S21 20.31 21 15.75v-6.5a1.25 1.25 0 0 0-2.5 0v5.25z",fill:"currentColor"},null,-1),mr=[ur],hr=E({name:"FrontHandRound",render:function(t,r){return x(),N("svg",pr,mr)}}),gr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},vr=R("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm8 7H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1zm1-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z",fill:"currentColor"},null,-1),fr=[vr],Ar=E({name:"KeyboardRound",render:function(t,r){return x(),N("svg",gr,fr)}}),br={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},wr=R("path",{d:"M8.79 9.24V5.5a2.5 2.5 0 0 1 5 0v3.74c1.21-.81 2-2.18 2-3.74c0-2.49-2.01-4.5-4.5-4.5s-4.5 2.01-4.5 4.5c0 1.56.79 2.93 2 3.74zm5.5 2.47c-.28-.14-.58-.21-.89-.21h-.61v-6c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v10.74l-3.44-.72c-.37-.08-.76.04-1.03.31c-.43.44-.43 1.14 0 1.58l4.01 4.01c.38.37.89.58 1.42.58h6.1c1 0 1.84-.73 1.98-1.72l.63-4.47c.12-.85-.32-1.69-1.09-2.07l-4.08-2.03z",fill:"currentColor"},null,-1),yr=[wr],Ir=E({name:"TouchAppRound",render:function(t,r){return x(),N("svg",br,yr)}});const Cr={class:"node-wrapper"},kr={__name:"Keyboard",setup(e){return(t,r)=>(x(),N(re,null,[h(i(me),{class:"title-wrapper"},{default:b(()=>[O("您可以使用方向键控制主角左右移动")]),_:1}),R("div",Cr,[h(i(F),{align:"center",justify:"center"},{default:b(()=>[h(i(Y),{size:"350%"},{default:b(()=>[h(i(qa))]),_:1}),h(i(Y),{size:"700%"},{default:b(()=>[h(i(Ar))]),_:1}),h(i(Y),{size:"350%"},{default:b(()=>[h(i(rr))]),_:1})]),_:1})])],64))}},xr=ae(kr,[["__scopeId","data-v-8e67be84"]]);const Rr={class:"node-wrapper"},zr={__name:"Face",setup(e){return(t,r)=>(x(),N(re,null,[h(i(me),{class:"title-wrapper"},{default:b(()=>[O("您可以左右移动头部控制主角左右移动")]),_:1}),R("div",Rr,[h(i(F),{align:"center",justify:"center"},{default:b(()=>[h(i(Y),{size:"350%"},{default:b(()=>[h(i(ke))]),_:1}),h(i(Y),{size:"700%"},{default:b(()=>[h(i(dr))]),_:1}),h(i(Y),{size:"350%"},{default:b(()=>[h(i(xe))]),_:1})]),_:1})])],64))}},Br=ae(zr,[["__scopeId","data-v-a7e2f58f"]]);const Mr={class:"node-wrapper"},Zr={__name:"Hand",setup(e){return(t,r)=>(x(),N(re,null,[h(i(me),{class:"title-wrapper"},{default:b(()=>[O("您可以左右移动掌心控制主角左右移动")]),_:1}),R("div",Mr,[h(i(F),{align:"center",justify:"center"},{default:b(()=>[h(i(Y),{size:"350%"},{default:b(()=>[h(i(ke))]),_:1}),h(i(Y),{size:"700%"},{default:b(()=>[h(i(hr))]),_:1}),h(i(Y),{size:"350%"},{default:b(()=>[h(i(xe))]),_:1})]),_:1})])],64))}},Gr=ae(Zr,[["__scopeId","data-v-5f4d7b07"]]);const Er={class:"node-wrapper"},Nr={__name:"Mouse",setup(e){return(t,r)=>(x(),N(re,null,[h(i(me),{class:"title-wrapper"},{default:b(()=>[O("您可以通过鼠标或触屏控制主角左右移动")]),_:1}),R("div",Er,[h(i(F),{align:"center",justify:"center"},{default:b(()=>[h(i(Y),{size:"350%"},{default:b(()=>[h(i(ke))]),_:1}),h(i(Y),{size:"700%"},{default:b(()=>[h(i(Ir))]),_:1}),h(i(Y),{size:"350%"},{default:b(()=>[h(i(xe))]),_:1})]),_:1})])],64))}},Yr=ae(Nr,[["__scopeId","data-v-3032056c"]]);const Sr={class:"load-wrap"},jr={class:"game-wrap"},Dr={class:"button-group"},Pr=["src"],Qr=["src"],Wr=["src"],Lr="游戏正在拼命加载，请耐心等待",_r={__name:"Game",setup(e){const t=Q(),r=z(),n=qe(),o=ft(),a={value:!0,video:null},s=se(0),m=se(null),p=se(null),v=se(!1),y=d=>"启动成功，您将在 "+d+" 秒后进入游戏",f=d=>"启动失败，您将在 "+d+" 秒后返回主页",C=()=>n.push("over"),u=d=>d&&Ne(d.key,!0,!1),B=d=>d&&Ne(d.key,!1,!0),A=d=>d&&Ye(d.screenX),S=()=>r.capture.stopped=!r.capture.stopped,j=()=>r.capture.mouse={location:null,movement:0},G=()=>r.capture.mouse={location:null,movement:0},T=d=>{d&&d.touches&&d.touches.length===1&&Ye(d.touches[0].clientX)},V=()=>{const d=ut(a.video);d&&d.landmarks&&d.landmarks.length>0&&Ta(d.landmarks[0][0].x*r.width),a.value&&window.requestAnimationFrame(V)},$=()=>{const d=mt(a.video);d&&d.landmarks&&d.landmarks.length>0&&Ja(d.landmarks[0][0].x*r.width),a.value&&window.requestAnimationFrame($)},J=async()=>{a.value&&(p.value="正在加载道具资源"),a.value&=await Qt(),a.value&=await Wt(),a.value&=await Lt(),a.value&=await _t(),a.value&&(s.value+=10),a.value&&(p.value="正在加载玩家资源"),a.value&=await Tt(),a.value&=await Jt(),a.value&=await Ut(),a.value&=await Ot(),a.value&&(s.value+=10)},te=async()=>{a.value&&(p.value="正在加载平台资源"),a.value&=await Pt(),a.value&=await Ft(),a.value&=await Vt(),a.value&=await $t(),a.value&=await Ht(),a.value&=await Xt(),a.value&=await Kt(),a.value&=await qt(),a.value&&(s.value+=10)},Te=async()=>{const d=async()=>await ze(ht,console.log),I=async()=>await ze(gt,console.log);a.value&&ct(),a.value&&(t.operate.face||t.operate.hand)&&(p.value="正在请求模型参数"),a.value&&t.operate.face&&await dt(),a.value&&t.operate.hand&&await pt(),a.value&&(s.value+=20),a.value&&(t.operate.face||t.operate.hand)&&(p.value="正在启动图像采集"),a.value&&t.operate.face&&(a.video=await d()),a.value&&t.operate.hand&&(a.video=await I()),a.value&&(s.value+=20),a.value&&t.operate.face&&!a.video&&(a.value=!1),a.value&&t.operate.hand&&!a.video&&(a.value=!1)},Je=async()=>{const d=I=>r.factory&&r.factory.generatePlatform(I);a.value&&(p.value="正在注册回调方法"),a.value&&t.operate.keyboard&&(document.onkeydown=u),a.value&&t.operate.keyboard&&(document.onkeyup=B),a.value&&t.operate.face&&a.video&&V(),a.value&&t.operate.hand&&a.video&&$(),a.value&&t.operate.mouse&&document.addEventListener("mousemove",A),a.value&&t.operate.mouse&&document.addEventListener("touchstart",j),a.value&&t.operate.mouse&&document.addEventListener("touchmove",T),a.value&&t.operate.mouse&&document.addEventListener("touchend",G),a.value&&(s.value+=20),a.value&&(p.value="正在生成游戏实例"),a.value&&(r.factory=new Ba),a.value&&(r.ground=new Za),a.value&&(r.player=new Ga),a.value&&(r.platforms=new Array),a.value&&Array.from(Array(t.platforms).keys()).forEach(I=>!r.platforms[I]&&d(I)),a.value&&Array.from(Array(t.platforms).keys()).forEach(I=>!r.platforms[I]&&d(I)),a.value&&(s.value+=10)},Re=()=>{const d=!r.capture.stopped;d&&a.value&&Da(),d&&a.value&&Pa(),d&&a.value&&La(),d&&a.value&&Qa(),d&&a.value&&_a(),d&&a.value&&Wa(),a.value&&window.requestAnimationFrame(Re)},Ue=async()=>{r.logout=()=>n.push("over"),r.frame=m.value,await J()||await te(),await Te()||await Je(),p.value=a.value?y(3):f(3),await L(1e3),p.value=a.value?y(2):f(2),await L(1e3),p.value=a.value?y(1):f(1),await L(1e3),a.value?Re():n.push("home"),v.value=a.value},Oe=async()=>{a.value=!1,document.removeEventListener("mousemove",A),document.removeEventListener("touchstart",j),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",G),document.onkeydown&&(document.onkeydown=null),document.onkeyup&&(document.onkeyup=null),r.frame&&(r.frame=null),r.logout&&(r.logout=null),a.video&&a.video.remove()},Fe=async()=>{const d={closable:!1,closeOnEsc:!1,maskClosable:!1},I=o.warning({title:"警告",iconPlacement:"top",...d});a.value=!1,I.content="渲染分辨率发生变化，页面将在 5 秒后刷新！",await L(1e3),I.content="渲染分辨率发生变化，页面将在 4 秒后刷新！",await L(1e3),I.content="渲染分辨率发生变化，页面将在 3 秒后刷新！",await L(1e3),I.content="渲染分辨率发生变化，页面将在 2 秒后刷新！",await L(1e3),I.content="渲染分辨率发生变化，页面将在 1 秒后刷新！",await L(1e3),location.reload()};return et(()=>[r.height,r.width],(d,I)=>I[0]&&I[1]&&d[0]&&d[1]&&a.value&&Fe(),{deep:!0}),fe(navigator.userAgent)&&(t.operate.face=!1),fe(navigator.userAgent)&&(t.operate.hand=!1),fe(navigator.userAgent)&&(t.operate.mouse=!0),tt(Ue),at(Oe),(d,I)=>(x(),N(re,null,[le(R("div",Sr,[h(i(F),{vertical:"",justify:"space-evenly",class:"space-load"},{default:b(()=>[h(i(F),{vertical:"",size:"small"},{default:b(()=>[p.value?W("",!0):(x(),H(i(ve),{key:0,class:"text-load"},{default:b(()=>[O(ge(Lr))]),_:1})),p.value?(x(),H(i(ve),{key:1,class:"text-load"},{default:b(()=>[O(ge(p.value),1)]),_:1})):W("",!0),h(i(xt),{type:"line",processing:"","indicator-placement":"inside",percentage:s.value},null,8,["percentage"])]),_:1}),i(t).operate.face?(x(),H(Br,{key:0})):W("",!0),i(t).operate.hand?(x(),H(Gr,{key:1})):W("",!0),i(t).operate.mouse?(x(),H(Yr,{key:2})):W("",!0),i(t).operate.keyboard?(x(),H(xr,{key:3})):W("",!0)]),_:1})],512),[[ie,!v.value]]),le(R("div",jr,[R("canvas",{ref_key:"gaming",ref:m,class:"core-wrap"},null,512),h(i(F),{justify:"space-between",align:"center",class:"game-header"},{default:b(()=>[h(i(ve),{class:"node-header-m"},{default:b(()=>[O(ge("Score: "+i(r).capture.score),1)]),_:1}),W("",!0),W("",!0),R("span",Dr,[le(R("img",{src:i(Ua),class:"change-button",onClick:S},null,8,Pr),[[ie,!i(r).capture.stopped]]),le(R("img",{src:i(vt),class:"change-button",onClick:S},null,8,Qr),[[ie,i(r).capture.stopped]]),R("img",{src:i(Oa),class:"stop-button",onClick:C},null,8,Wr)])]),_:1})],512),[[ie,v.value]])],64))}},Hr=ae(_r,[["__scopeId","data-v-0451b8f3"]]);export{Hr as default};
